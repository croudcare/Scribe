<div id='header'>
  <div class="swagger-ui-wrap">
    <a href="http://linkedcare.com" target="blank" style="text-decoration: none;">
      <img src="scriber/img/papyrus.png" style="height: 30px; vertical-align: middle">
    </a>

    <a id="logo" href="http://linkedcare.com" target="blank">papyrus</a>

    <div class="btn-group" data-toggle="buttons">
      <label id="apis_docs_label" class="btn btn-primary active" onclick="$.service_selector.selectApiDocs();"><img src="scriber/img/api.png">APIs Docs</label>
      <label id="broadcasts_label" class="btn btn-primary" onclick="$.service_selector.selectBroadcast();"><img src="scriber/img/broadcast.png">Broadcasts</label>
      <label id="gems_label" class="btn btn-primary" onclick="$.service_selector.selectGems();"><img src="scriber/img/ruby.png" style=></span>Gems</label>
      <label id="how_to_label" class="btn btn-primary" onclick="$.service_selector.selectHowTo();"><img src="scriber/img/help.png" style=></span>Help</label>
    </div>

    <form id='api_selector'>
      <div class='input'>
        <select name="" id="service_select">
        </select>
      </div>
    </form>
  </div>
</div>

<div id="message-bar" class="swagger-ui-wrap">
  &nbsp;
</div>

<div id="swagger-ui-container" class="swagger-ui-wrap">
</div>

<div id="how_to_container" class="swagger-ui-wrap hide_me">
  <h1>Usefull information</h1>

  <p>Papyrus is linkedcare's service to centralize all services api documentation.
    Papyrus comunicates with services, requesting documentation files over the form of
    json files. These json files must conform with the <a href="https://github.com/swagger-api/swagger-spec/blob/master/versions/2.0.md" target="_blank">swagger specification</a> and feed <a href="https://github.com/swagger-api/swagger-ui" target="_blank">swagger ui</a> which builds up the documentation.</p>

  <p>Papyrus provides 3 kinds of documentation information:
    <ul>
      <li>Api - Documents every endpoint a microservice has and allows interaction with this endpoint.</li>
      <li>Broadcasts - Describes every message that is written to the message queue.</li>
      <li>Gems - Described the gems a given service uses. </li>
    </ul>
  </p>

  <p>
    Actually the api documentation is the only one who must conform with swagger specification.
    Broadcasts and Gems just need to provide the following format:

    <h3>Broadcasts</h3>
    <script src="https://gist.github.com/nunogoncalves/6a83e4e3044d7d6b888c.js"></script>

    <h3>Gems</h3>
    <script src="https://gist.github.com/nunogoncalves/a600ab34c2a142ddeda3.js"></script>
  </p>

  <h2>How to add services</h2>
  <p>To make papyrus aware of a service, there's a configuration file in papyrus which looks like this:
    <script src="https://gist.github.com/nunogoncalves/7bd8f62ef3333ebaf81f.js"></script>
    where:
    <ul>
      <li>api_docs_url - The url to the service which contains the api documentation json file</li>
      <li>broacasts_url - The url to the service which contains the api documentation json file</li>
      <li>gems_url - The url to the service which contains the api documentation json file</li>
      <li>name - The nme of the service</li>
      <li>shortName - Is used to provide dynamic entries when working with javascript scripts.</li>
    </ul>
  </p>

  <p>
    So in order to make Papyrus cominucate with a service just add its informaction to the configuration file.
  </p>
</div>

<script>
  $(function() {
    $.sources.load();
  });
</script>
<%= partial :"templates/broadcasts" %>
<%= partial :"templates/gems" %>
<%= partial :"templates/jwt_notice" %>
